!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(n.hookuspocus={})}(this,function(n){var e,t,o=[],r=new(WeakMap||Map),u=function(n){return function u(){var f=o[t][++e]||(o[t][e]=[{context:o[t][0],hook:n}]);return(r.get(u)||n).apply({},f.concat(Array.from(arguments)))}},f=function(n){o[t].forEach(function(e){e[0]&&e[0][n]&&(e[0][n](),delete e[0][n])})},c=function(){var n,u=Array.from(arguments);u[0].pop&&(n=u.shift());var c,i="boolean"==typeof u[1]?u[0]:u[1]||u[0],a=!0===u[1]||u[2];return e=0,t=o.push(r.get(i)||[i])-1,r.set(i,o[t]),!0===a?(f("cleanUp"),r.delete(i)):(f("before"),c=u[0].apply(u[0],n),f("after")),o.pop(),c},i=u(function(n,e,t){n.v&&(!t||t.length===n.v.length&&t.every(function(e){return~n.v.indexOf(e)}))||(n.v=t,n.cleanUp&&n.cleanUp(),n.after=function(){n.cleanUp=e()})}),a=u(function(n,e,t,o){return n.s=void 0!==n.s?n.s:o?o(t):t,[n.s,function(t){return n.s=e(n.s,t),n.s}]});n.hookus=u,n.pocus=c,n.on=function(n,e){r.set(n,e)},n.useEffect=i,n.useReducer=a,n.useState=function(n){var e=a(function(n,e){return e.value},n),t=e[1];return[e[0],function(n){return t({value:n})}]},n.fidibus=function(n,e){var t=function(){var t=Array.from(arguments);return t.length>0?c(t,n,e):c(n,e)};return t.cleanUp=function(){c(n,e,!0)},t}});
//# sourceMappingURL=hookuspocus.umd.js.map
